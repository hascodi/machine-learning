<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Hoofdstuk 8 Diagnose | Machine Learning</title>
  <meta name="description" content="Artificial intelligence course at the AP University College." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Hoofdstuk 8 Diagnose | Machine Learning" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Artificial intelligence course at the AP University College." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Hoofdstuk 8 Diagnose | Machine Learning" />
  
  <meta name="twitter:description" content="Artificial intelligence course at the AP University College." />
  

<meta name="author" content="34142/1916/2021/1/38 David D’Haese" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="inleiding-tot-artificiële-neurale-netwerken.html"/>
<link rel="next" href="tensorflow.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css\ai.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Summary</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="inleiding-tot-de-cursus.html"><a href="inleiding-tot-de-cursus.html"><i class="fa fa-check"></i><b>1</b> Inleiding tot de cursus</a><ul>
<li class="chapter" data-level="1.1" data-path="inleiding-tot-de-cursus.html"><a href="inleiding-tot-de-cursus.html#in-een-notedop"><i class="fa fa-check"></i><b>1.1</b> In een notedop</a></li>
<li class="chapter" data-level="1.2" data-path="inleiding-tot-de-cursus.html"><a href="inleiding-tot-de-cursus.html#leerdoelen"><i class="fa fa-check"></i><b>1.2</b> Leerdoelen</a></li>
<li class="chapter" data-level="1.3" data-path="inleiding-tot-de-cursus.html"><a href="inleiding-tot-de-cursus.html#cursus-vorm"><i class="fa fa-check"></i><b>1.3</b> Cursus vorm</a></li>
<li class="chapter" data-level="1.4" data-path="inleiding-tot-de-cursus.html"><a href="inleiding-tot-de-cursus.html#licentie-voor-deze-cursus"><i class="fa fa-check"></i><b>1.4</b> Licentie voor deze cursus</a></li>
<li class="chapter" data-level="1.5" data-path="inleiding-tot-de-cursus.html"><a href="inleiding-tot-de-cursus.html#verwijzen-naar-deze-cursus"><i class="fa fa-check"></i><b>1.5</b> Verwijzen naar deze cursus</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="leren-uit-data.html"><a href="leren-uit-data.html"><i class="fa fa-check"></i><b>2</b> Leren uit data</a><ul>
<li class="chapter" data-level="2.1" data-path="leren-uit-data.html"><a href="leren-uit-data.html#het-leerproces"><i class="fa fa-check"></i><b>2.1</b> Het leerproces</a></li>
<li class="chapter" data-level="2.2" data-path="leren-uit-data.html"><a href="leren-uit-data.html#de-evolutie-van-het-machinaal-leren"><i class="fa fa-check"></i><b>2.2</b> De evolutie van het machinaal leren</a></li>
<li class="chapter" data-level="2.3" data-path="leren-uit-data.html"><a href="leren-uit-data.html#intelligentie"><i class="fa fa-check"></i><b>2.3</b> Intelligentie</a></li>
<li class="chapter" data-level="2.4" data-path="leren-uit-data.html"><a href="leren-uit-data.html#het-model"><i class="fa fa-check"></i><b>2.4</b> Het model</a></li>
<li class="chapter" data-level="2.5" data-path="leren-uit-data.html"><a href="leren-uit-data.html#doelfunctie"><i class="fa fa-check"></i><b>2.5</b> Doelfunctie</a></li>
<li class="chapter" data-level="2.6" data-path="leren-uit-data.html"><a href="leren-uit-data.html#mnist-dataset"><i class="fa fa-check"></i><b>2.6</b> MNIST dataset</a></li>
<li class="chapter" data-level="2.7" data-path="leren-uit-data.html"><a href="leren-uit-data.html#het-resultaat-van-mnist-analyse"><i class="fa fa-check"></i><b>2.7</b> Het resultaat van MNIST analyse</a></li>
<li class="chapter" data-level="2.8" data-path="leren-uit-data.html"><a href="leren-uit-data.html#het-mnist-model"><i class="fa fa-check"></i><b>2.8</b> Het MNIST model</a></li>
<li class="chapter" data-level="2.9" data-path="leren-uit-data.html"><a href="leren-uit-data.html#het-leerproces-voor-begeleid-ml"><i class="fa fa-check"></i><b>2.9</b> Het leerproces voor begeleid ML</a></li>
<li class="chapter" data-level="2.10" data-path="leren-uit-data.html"><a href="leren-uit-data.html#de-onderdelen-van-een-model"><i class="fa fa-check"></i><b>2.10</b> De onderdelen van een model</a></li>
<li class="chapter" data-level="2.11" data-path="leren-uit-data.html"><a href="leren-uit-data.html#hyperparameters"><i class="fa fa-check"></i><b>2.11</b> Hyperparameters</a></li>
<li class="chapter" data-level="2.12" data-path="leren-uit-data.html"><a href="leren-uit-data.html#het-leeralgoritme"><i class="fa fa-check"></i><b>2.12</b> Het leeralgoritme</a></li>
<li class="chapter" data-level="2.13" data-path="leren-uit-data.html"><a href="leren-uit-data.html#model-complexiteit"><i class="fa fa-check"></i><b>2.13</b> Model complexiteit</a></li>
<li class="chapter" data-level="2.14" data-path="leren-uit-data.html"><a href="leren-uit-data.html#comprimeren-door-middel-van-een-ml-model"><i class="fa fa-check"></i><b>2.14</b> Comprimeren door middel van een ML model</a></li>
<li class="chapter" data-level="2.15" data-path="leren-uit-data.html"><a href="leren-uit-data.html#leren-versus-ontwerp"><i class="fa fa-check"></i><b>2.15</b> Leren versus ontwerp</a></li>
<li class="chapter" data-level="2.16" data-path="leren-uit-data.html"><a href="leren-uit-data.html#leren-versus-onthouden"><i class="fa fa-check"></i><b>2.16</b> Leren versus onthouden</a></li>
<li class="chapter" data-level="2.17" data-path="leren-uit-data.html"><a href="leren-uit-data.html#onbegeleid-ml"><i class="fa fa-check"></i><b>2.17</b> Onbegeleid ML</a></li>
<li class="chapter" data-level="2.18" data-path="leren-uit-data.html"><a href="leren-uit-data.html#conditionering"><i class="fa fa-check"></i><b>2.18</b> Conditionering</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a><ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#data-voor-ml"><i class="fa fa-check"></i><b>3.1</b> Data voor ML</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#wat-is-data"><i class="fa fa-check"></i><b>3.2</b> Wat is data</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#soorten-data"><i class="fa fa-check"></i><b>3.3</b> Soorten data</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#externe-databronnen"><i class="fa fa-check"></i><b>3.4</b> Externe databronnen</a></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#data-genereren"><i class="fa fa-check"></i><b>3.5</b> Data Genereren</a></li>
<li class="chapter" data-level="3.6" data-path="data.html"><a href="data.html#de-analyse-dataset"><i class="fa fa-check"></i><b>3.6</b> De analyse dataset</a></li>
<li class="chapter" data-level="3.7" data-path="data.html"><a href="data.html#soorten-variabelen"><i class="fa fa-check"></i><b>3.7</b> Soorten variabelen</a></li>
<li class="chapter" data-level="3.8" data-path="data.html"><a href="data.html#nominal-scale-data"><i class="fa fa-check"></i><b>3.8</b> Nominal-Scale Data</a></li>
<li class="chapter" data-level="3.9" data-path="data.html"><a href="data.html#ordinal-scale-data"><i class="fa fa-check"></i><b>3.9</b> Ordinal-Scale Data</a></li>
<li class="chapter" data-level="3.10" data-path="data.html"><a href="data.html#circular-scale"><i class="fa fa-check"></i><b>3.10</b> Circular-Scale</a></li>
<li class="chapter" data-level="3.11" data-path="data.html"><a href="data.html#censoring"><i class="fa fa-check"></i><b>3.11</b> Censoring</a></li>
<li class="chapter" data-level="3.12" data-path="data.html"><a href="data.html#tijd-en-ruimte"><i class="fa fa-check"></i><b>3.12</b> Tijd en ruimte</a></li>
<li class="chapter" data-level="3.13" data-path="data.html"><a href="data.html#toegang-tot-data"><i class="fa fa-check"></i><b>3.13</b> Toegang tot data</a></li>
<li class="chapter" data-level="3.14" data-path="data.html"><a href="data.html#het-codeboek"><i class="fa fa-check"></i><b>3.14</b> Het codeboek</a></li>
<li class="chapter" data-level="3.15" data-path="data.html"><a href="data.html#data-leackage"><i class="fa fa-check"></i><b>3.15</b> Data leackage</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-exploratie.html"><a href="data-exploratie.html"><i class="fa fa-check"></i><b>4</b> Data exploratie</a><ul>
<li class="chapter" data-level="4.1" data-path="data-exploratie.html"><a href="data-exploratie.html#principes-van-data-exploratie"><i class="fa fa-check"></i><b>4.1</b> Principes van data exploratie</a></li>
<li class="chapter" data-level="4.2" data-path="data-exploratie.html"><a href="data-exploratie.html#stappen-in-data-exploratie"><i class="fa fa-check"></i><b>4.2</b> Stappen in data exploratie</a></li>
<li class="chapter" data-level="4.3" data-path="data-exploratie.html"><a href="data-exploratie.html#voorbeeld-data-exploratie"><i class="fa fa-check"></i><b>4.3</b> Voorbeeld data exploratie</a></li>
<li class="chapter" data-level="4.4" data-path="data-exploratie.html"><a href="data-exploratie.html#univariate-verdelingen"><i class="fa fa-check"></i><b>4.4</b> Univariate verdelingen</a></li>
<li class="chapter" data-level="4.5" data-path="data-exploratie.html"><a href="data-exploratie.html#correlatie-tussen-twee-variabelen"><i class="fa fa-check"></i><b>4.5</b> Correlatie tussen twee variabelen</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html"><i class="fa fa-check"></i><b>5</b> Manipuleren van data</a><ul>
<li class="chapter" data-level="5.1" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#transformations"><i class="fa fa-check"></i><b>5.1</b> Transformations</a></li>
<li class="chapter" data-level="5.2" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#subsetting-or-slicing"><i class="fa fa-check"></i><b>5.2</b> Subsetting or Slicing</a></li>
<li class="chapter" data-level="5.3" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#booleaans-masker"><i class="fa fa-check"></i><b>5.3</b> Booleaans masker</a></li>
<li class="chapter" data-level="5.4" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#grouping-and-aggregation"><i class="fa fa-check"></i><b>5.4</b> Grouping and Aggregation</a></li>
<li class="chapter" data-level="5.5" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#transforming-text"><i class="fa fa-check"></i><b>5.5</b> Transforming text</a></li>
<li class="chapter" data-level="5.6" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#re-scaling-numerical-values"><i class="fa fa-check"></i><b>5.6</b> Re-Scaling Numerical Values</a></li>
<li class="chapter" data-level="5.7" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#discretizations"><i class="fa fa-check"></i><b>5.7</b> Discretizations</a></li>
<li class="chapter" data-level="5.8" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#information-content"><i class="fa fa-check"></i><b>5.8</b> Information Content</a></li>
<li class="chapter" data-level="5.9" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#reformatting-type-conversion-casting-or-coercion"><i class="fa fa-check"></i><b>5.9</b> Reformatting, Type Conversion, Casting or Coercion</a></li>
<li class="chapter" data-level="5.10" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#changing-numerical-values"><i class="fa fa-check"></i><b>5.10</b> Changing numerical Values</a></li>
<li class="chapter" data-level="5.11" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#changing-category-names"><i class="fa fa-check"></i><b>5.11</b> Changing Category Names</a></li>
<li class="chapter" data-level="5.12" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#imputation"><i class="fa fa-check"></i><b>5.12</b> Imputation</a></li>
<li class="chapter" data-level="5.13" data-path="manipuleren-van-data.html"><a href="manipuleren-van-data.html#onbehandeld"><i class="fa fa-check"></i><b>5.13</b> Onbehandeld</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="de-percetron.html"><a href="de-percetron.html"><i class="fa fa-check"></i><b>6</b> De percetron</a><ul>
<li class="chapter" data-level="6.1" data-path="de-percetron.html"><a href="de-percetron.html#historiek"><i class="fa fa-check"></i><b>6.1</b> Historiek</a></li>
<li class="chapter" data-level="6.2" data-path="de-percetron.html"><a href="de-percetron.html#de-anatomie-van-de-perceptron"><i class="fa fa-check"></i><b>6.2</b> De anatomie van de perceptron</a></li>
<li class="chapter" data-level="6.3" data-path="de-percetron.html"><a href="de-percetron.html#casestudy-onderscheiden-van-setosa"><i class="fa fa-check"></i><b>6.3</b> Casestudy: Onderscheiden van setosa</a></li>
<li class="chapter" data-level="6.4" data-path="de-percetron.html"><a href="de-percetron.html#de-perceptron-klasse"><i class="fa fa-check"></i><b>6.4</b> De perceptron klasse</a></li>
<li class="chapter" data-level="6.5" data-path="de-percetron.html"><a href="de-percetron.html#de-perceptron-functies"><i class="fa fa-check"></i><b>6.5</b> De perceptron functies</a></li>
<li class="chapter" data-level="6.6" data-path="de-percetron.html"><a href="de-percetron.html#het-leeralgoritme-van-de-perceptron"><i class="fa fa-check"></i><b>6.6</b> Het leeralgoritme van de perceptron</a></li>
<li class="chapter" data-level="6.7" data-path="de-percetron.html"><a href="de-percetron.html#trainen-van-de-perceptron"><i class="fa fa-check"></i><b>6.7</b> Trainen van de perceptron</a></li>
<li class="chapter" data-level="6.8" data-path="de-percetron.html"><a href="de-percetron.html#voorspellen-van-de-iris-soort"><i class="fa fa-check"></i><b>6.8</b> Voorspellen van de iris soort</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html"><i class="fa fa-check"></i><b>7</b> Inleiding tot artificiële Neurale Netwerken</a><ul>
<li class="chapter" data-level="7.1" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html#geschakelde-perceptronen"><i class="fa fa-check"></i><b>7.1</b> Geschakelde perceptronen</a></li>
<li class="chapter" data-level="7.2" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html#feed-forward-anns-ff-anns"><i class="fa fa-check"></i><b>7.2</b> Feed-forward ANNs (FF-ANNs)</a></li>
<li class="chapter" data-level="7.3" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html#types-neuronen"><i class="fa fa-check"></i><b>7.3</b> Types neuronen</a></li>
<li class="chapter" data-level="7.4" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html#backpropagation"><i class="fa fa-check"></i><b>7.4</b> Backpropagation</a></li>
<li class="chapter" data-level="7.5" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html#werkstroom-deep-learning"><i class="fa fa-check"></i><b>7.5</b> Werkstroom deep learning</a></li>
<li class="chapter" data-level="7.6" data-path="inleiding-tot-artificiële-neurale-netwerken.html"><a href="inleiding-tot-artificiële-neurale-netwerken.html#regularisatie"><i class="fa fa-check"></i><b>7.6</b> Regularisatie</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="diagnose.html"><a href="diagnose.html"><i class="fa fa-check"></i><b>8</b> Diagnose</a><ul>
<li class="chapter" data-level="8.1" data-path="diagnose.html"><a href="diagnose.html#leren-leven-met-de-onzekerheid"><i class="fa fa-check"></i><b>8.1</b> Leren leven met de onzekerheid</a></li>
<li class="chapter" data-level="8.2" data-path="diagnose.html"><a href="diagnose.html#meten-van-de-prestatie-van-een-model"><i class="fa fa-check"></i><b>8.2</b> Meten van de prestatie van een model</a></li>
<li class="chapter" data-level="8.3" data-path="diagnose.html"><a href="diagnose.html#training--validatie--en-test-set"><i class="fa fa-check"></i><b>8.3</b> Training-, validatie- en test-set</a></li>
<li class="chapter" data-level="8.4" data-path="diagnose.html"><a href="diagnose.html#cross-validatie"><i class="fa fa-check"></i><b>8.4</b> Cross-validatie</a></li>
<li class="chapter" data-level="8.5" data-path="diagnose.html"><a href="diagnose.html#de-beoordelingsfunctie"><i class="fa fa-check"></i><b>8.5</b> De beoordelingsfunctie</a></li>
<li class="chapter" data-level="8.6" data-path="diagnose.html"><a href="diagnose.html#gradiënt-afdaling"><i class="fa fa-check"></i><b>8.6</b> Gradiënt afdaling</a></li>
<li class="chapter" data-level="8.7" data-path="diagnose.html"><a href="diagnose.html#stochastische-en-minibatch-gradiënt-afdaling"><i class="fa fa-check"></i><b>8.7</b> Stochastische en Minibatch gradiënt afdaling</a></li>
<li class="chapter" data-level="8.8" data-path="diagnose.html"><a href="diagnose.html#uitwendige-invloed"><i class="fa fa-check"></i><b>8.8</b> Uitwendige invloed</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tensorflow.html"><a href="tensorflow.html"><i class="fa fa-check"></i><b>9</b> TensorFlow</a><ul>
<li class="chapter" data-level="9.1" data-path="tensorflow.html"><a href="tensorflow.html#inleiding"><i class="fa fa-check"></i><b>9.1</b> Inleiding</a></li>
<li class="chapter" data-level="9.2" data-path="tensorflow.html"><a href="tensorflow.html#basistaken-in-tensorflow"><i class="fa fa-check"></i><b>9.2</b> Basistaken in TensorFlow</a></li>
<li class="chapter" data-level="9.3" data-path="tensorflow.html"><a href="tensorflow.html#convolutionele-neurale-netwerken"><i class="fa fa-check"></i><b>9.3</b> Convolutionele neurale netwerken</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="rapporteren.html"><a href="rapporteren.html"><i class="fa fa-check"></i><b>10</b> Rapporteren</a><ul>
<li class="chapter" data-level="10.1" data-path="rapporteren.html"><a href="rapporteren.html#reproduceerbaarheid"><i class="fa fa-check"></i><b>10.1</b> Reproduceerbaarheid</a></li>
<li class="chapter" data-level="10.2" data-path="rapporteren.html"><a href="rapporteren.html#beduidende-cijfers"><i class="fa fa-check"></i><b>10.2</b> Beduidende cijfers</a></li>
<li class="chapter" data-level="10.3" data-path="rapporteren.html"><a href="rapporteren.html#representativiteit-en-randvoorwaarden"><i class="fa fa-check"></i><b>10.3</b> Representativiteit en randvoorwaarden</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="speciale-neurale-netwerken.html"><a href="speciale-neurale-netwerken.html"><i class="fa fa-check"></i><b>11</b> Speciale neurale netwerken</a></li>
<li class="chapter" data-level="12" data-path="ml-en-ethiek.html"><a href="ml-en-ethiek.html"><i class="fa fa-check"></i><b>12</b> ML en ethiek</a><ul>
<li class="chapter" data-level="12.1" data-path="ml-en-ethiek.html"><a href="ml-en-ethiek.html#ethisch-ml"><i class="fa fa-check"></i><b>12.1</b> Ethisch ML</a></li>
<li class="chapter" data-level="12.2" data-path="ml-en-ethiek.html"><a href="ml-en-ethiek.html#uitlegbare-ai"><i class="fa fa-check"></i><b>12.2</b> Uitlegbare AI</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="inwendig-product-matrix-vermenigvuldiging-vectoren-en-tensoren.html"><a href="inwendig-product-matrix-vermenigvuldiging-vectoren-en-tensoren.html"><i class="fa fa-check"></i><b>A</b> Inwendig product, matrix-vermenigvuldiging, vectoren en tensoren</a></li>
<li class="chapter" data-level="B" data-path="computations-using-gpu.html"><a href="computations-using-gpu.html"><i class="fa fa-check"></i><b>B</b> Computations using GPU</a></li>
<li class="chapter" data-level="C" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>C</b> Installation</a><ul>
<li class="chapter" data-level="C.1" data-path="installation.html"><a href="installation.html#installing-cuda-optional"><i class="fa fa-check"></i><b>C.1</b> Installing CUDA (optional)</a></li>
<li class="chapter" data-level="C.2" data-path="installation.html"><a href="installation.html#the-r-language"><i class="fa fa-check"></i><b>C.2</b> The R language</a></li>
<li class="chapter" data-level="C.3" data-path="installation.html"><a href="installation.html#python"><i class="fa fa-check"></i><b>C.3</b> Python</a></li>
<li class="chapter" data-level="C.4" data-path="installation.html"><a href="installation.html#rstudio"><i class="fa fa-check"></i><b>C.4</b> RStudio</a></li>
<li class="chapter" data-level="C.5" data-path="installation.html"><a href="installation.html#installing-tensorflow"><i class="fa fa-check"></i><b>C.5</b> Installing Tensorflow</a></li>
<li class="chapter" data-level="C.6" data-path="installation.html"><a href="installation.html#installation-steps-that-worked-for-the-author"><i class="fa fa-check"></i><b>C.6</b> Installation steps that worked for the author</a></li>
<li class="chapter" data-level="C.7" data-path="installation.html"><a href="installation.html#waar-vind-ik-hulp"><i class="fa fa-check"></i><b>C.7</b> Waar vind ik hulp</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>D</b> Git</a></li>
<li class="chapter" data-level="" data-path="bronvermelding.html"><a href="bronvermelding.html"><i class="fa fa-check"></i>Bronvermelding</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Machine Learning</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="diagnose" class="section level1">
<h1><span class="header-section-number">Hoofdstuk 8</span> Diagnose</h1>

<div class="lemma">
<span id="lem:cross-validatie-lemma" class="lemma"><strong>Leerdoel 8.1  </strong></span>Onderkent de basisprincipes van data training &amp; Cross-validatie (<a href="inleiding-tot-de-cursus.html#leerdoelen"><em>EA_LD754</em></a>).
</div>


<div class="lemma">
<span id="lem:risicos" class="lemma"><strong>Leerdoel 8.2  </strong></span>Herkent de risico’s van onvolledige en inaccurate data (<a href="inleiding-tot-de-cursus.html#leerdoelen"><em>EA_LD759</em></a>).
</div>


<div class="lemma">
<span id="lem:diagnose" class="lemma"><strong>Leerdoel 8.3  </strong></span>Gebruikt een diagnostische toolset om de performantie van ML modellen te meten (<a href="inleiding-tot-de-cursus.html#leerdoelen"><em>EA_LD760</em></a>).
</div>


<div class="lemma">
<span id="lem:performantie" class="lemma"><strong>Leerdoel 8.4  </strong></span>Evalueert op gepaste wijze de performantie van een algoritme. (<a href="inleiding-tot-de-cursus.html#leerdoelen"><em>EA_LD762</em></a>).
</div>

<div id="leren-leven-met-de-onzekerheid" class="section level2">
<h2><span class="header-section-number">8.1</span> Leren leven met de onzekerheid</h2>
<p>Misschien wel het belangrijkste aspect van ML is dat er nooit een garantie dat het gaat lukken. Vele mensen schijnen het hier erg moeilijk mee te hebben. Men zegt zegt al te vaak:</p>
<p><q>We will be able to predict…</q></p>
<p>Waar voorzichtigheid hier op zijn plaats is:</p>
<p><q>We hope to able to predict…</q></p>
<p>Dat betekent nog niet dat voorspellen onmogelijk is. We gaan ons best doen om, als er een patroon in de data verborgen zit, deze er ook uit te krijgen.</p>

<div class="definition">
<span id="def:unnamed-chunk-40" class="definition"><strong>Stelling 8.1  </strong></span>ML is geen toverkunst. Je kan <strong>nooit</strong> garanderen dat je een correcte voorspelling kan maken van iets wat nog niet geweten is.
</div>

</div>
<div id="meten-van-de-prestatie-van-een-model" class="section level2">
<h2><span class="header-section-number">8.2</span> Meten van de prestatie van een model</h2>
<p>Omdat we nooit zeker zijn dat ons model goed zal voorspellen, moeten we dus ons best doen om de prestaties zo hoog mogelijk te houden. En dat begint daar weer bij het meten van de prestaties. Maar hoe meet men de prestatie van een model? Uit de paragraaf <a href="leren-uit-data.html#leren-versus-onthouden">Leren versus onthouden</a> leerden we wat overfit is en wat het verschil is tussen regressie en ML. Hieruit volgt de Stelling <a href="diagnose.html#def:prestatie-principe">8.2</a>.</p>

<div class="definition">
<span id="def:prestatie-principe" class="definition"><strong>Stelling 8.2  </strong></span>De prestatie van een model wordt niet zomaar gemeten op basis van hoe goed het iets kan voorspellen. De prestatie van een model wordt in principe gemeten op basis van hoe goed het uitkomsten kan voorspellen gebruik maken van test-data, i.e. invoerdata waar noch het model, noch het leeralgoritme noch de datawetenschapper eerder mee in aanraking kwamen.
</div>

</div>
<div id="training--validatie--en-test-set" class="section level2">
<h2><span class="header-section-number">8.3</span> Training-, validatie- en test-set</h2>
<p>We begrijpen nu dat het trainen van een model en het testen van een model dient de gebeuren op afzonderlijke subsets van de data. Dus de oplossing is het opsplitsen van de data. De belangrijkste opsplitsing van data is die tussen de <em>training-set</em> en de <em>test-set</em>. De training set is de set van <em>instanties</em> (zie hoofdstuk over <a href="data.html#data">data</a> als je deze term niet kent) waarmee het leeralgoritme getraind zal worden. De test-set krijgt het leeralgoritme niet te zien tot op het laatste, wanneer de prestaties van het model getest worden. Ook de datawetenschapper mag de test-set in principe niet zien en in professionele omgevingen wordt dit ook letterlijk genomen en is er een tussenpersoon tussen data leverancier en datawetenschapper die voor de opsplitsing zorgt.</p>
<p>Er zijn verschillende manieren om de opsplitsing te verwezenlijken. Meestal krijgt men te maken met een <em>randomisatie</em>, dat is een opsplitsing op willekeurige basis, maar waarbij enkel de relatieve grootte van de training- en test-set worden meegegeven.</p>
<p>In R:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="diagnose.html#cb75-1"></a><span class="kw">data</span>(mtcars)</span>
<span id="cb75-2"><a href="diagnose.html#cb75-2"></a></span>
<span id="cb75-3"><a href="diagnose.html#cb75-3"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb75-4"><a href="diagnose.html#cb75-4"></a>trn_msk &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="kw">nrow</span>(mtcars)) <span class="op">&lt;</span><span class="st"> </span><span class="fl">.75</span></span>
<span id="cb75-5"><a href="diagnose.html#cb75-5"></a></span>
<span id="cb75-6"><a href="diagnose.html#cb75-6"></a>trn &lt;-<span class="st"> </span>mtcars[trn_msk, ]</span>
<span id="cb75-7"><a href="diagnose.html#cb75-7"></a>tst &lt;-<span class="st"> </span>mtcars[<span class="op">!</span>trn_msk, ]</span>
<span id="cb75-8"><a href="diagnose.html#cb75-8"></a></span>
<span id="cb75-9"><a href="diagnose.html#cb75-9"></a><span class="kw">cat</span>(<span class="st">&quot;mtcars: &quot;</span>, mtcars <span class="op">%&gt;%</span><span class="st"> </span>dim <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot; × &quot;</span>), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb75-10"><a href="diagnose.html#cb75-10"></a><span class="kw">cat</span>(<span class="st">&quot;trn: &quot;</span>, trn <span class="op">%&gt;%</span><span class="st"> </span>dim <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot; × &quot;</span>), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb75-11"><a href="diagnose.html#cb75-11"></a><span class="kw">cat</span>(<span class="st">&quot;tst: &quot;</span>, tst <span class="op">%&gt;%</span><span class="st"> </span>dim <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste0</span>(<span class="dt">collapse =</span> <span class="st">&quot; × &quot;</span>), <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<p>De variabele <code>trn_msk</code> heet zo omdat het om een Booleaanse <em>masker</em> (eng: <em>mask</em>; zie § <a href="manipuleren-van-data.html#booleaans-masker">Booleaans masker</a>) gaat.</p>
<p>In Python worden de features en de uitkomst (cfr. <a href="data.html#data">data</a>) meestal gescheiden gehouden (om dan vaak terug samen te brengen met <code>zip</code> :-)) en wordt er een helper-functie uit de <code>sklearn</code> bibliotheek aangeroepen:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="diagnose.html#cb76-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb76-2"><a href="diagnose.html#cb76-2"></a><span class="im">from</span> sklearn.datasets <span class="im">import</span> load_wine</span>
<span id="cb76-3"><a href="diagnose.html#cb76-3"></a></span>
<span id="cb76-4"><a href="diagnose.html#cb76-4"></a>X, y <span class="op">=</span> load_wine(return_X_y<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb76-5"><a href="diagnose.html#cb76-5"></a></span>
<span id="cb76-6"><a href="diagnose.html#cb76-6"></a>X_trn, X_tst, y_trn, y_tst <span class="op">=</span> train_test_split(</span>
<span id="cb76-7"><a href="diagnose.html#cb76-7"></a>  X, y, test_size <span class="op">=</span> <span class="fl">0.25</span>, random_state <span class="op">=</span> <span class="dv">42</span>)</span>
<span id="cb76-8"><a href="diagnose.html#cb76-8"></a></span>
<span id="cb76-9"><a href="diagnose.html#cb76-9"></a><span class="bu">print</span>(<span class="ss">f&quot;X: </span><span class="sc">{X.</span>shape<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## X: (178, 13)</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="diagnose.html#cb78-1"></a><span class="bu">print</span>(<span class="ss">f&quot;y: </span><span class="sc">{y.</span>shape<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## y: (178,)</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="diagnose.html#cb80-1"></a><span class="bu">print</span>(<span class="ss">f&quot;X_trn: </span><span class="sc">{</span>X_trn<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## X_trn: (133, 13)</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb82-1"><a href="diagnose.html#cb82-1"></a><span class="bu">print</span>(<span class="ss">f&quot;X_tst: </span><span class="sc">{</span>X_tst<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## X_tst: (45, 13)</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb84-1"><a href="diagnose.html#cb84-1"></a><span class="bu">print</span>(<span class="ss">f&quot;X_trn: </span><span class="sc">{</span>y_trn<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## X_trn: (133,)</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb86-1"><a href="diagnose.html#cb86-1"></a><span class="bu">print</span>(<span class="ss">f&quot;X_tst: </span><span class="sc">{</span>y_tst<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<pre><code>## X_tst: (45,)</code></pre>
<p>Het argument <code>random_state</code> in Python en de <code>set.seed</code> functie in R dienen om dit proces, dat inherent willekeurig is, toch reproduceerbaar te maken (zie § rond <a href="rapporteren.html#reproduceerbaarheid">reproduceerbaarheid</a>). Zie dit <a href="https://en.wikipedia.org/wiki/Random_seed">Wikipedia artikel</a> om hier meer over te leren.</p>

<div class="definition">
<p><span id="def:unnamed-chunk-43" class="definition"><strong>Stelling 8.3  </strong></span>Regels rond de test set:</p>
<ul>
<li>De test-set blijft <em>altijd</em> verborgen voor het leeralgoritme</li>
<li>De test-set blijft verborgen voor de datawetenschapper en het model tot helemaal op het einde wanneer de prestatie van het model word gemeten</li>
<li>De test-set mag slechts één keer gebruikt worden, daarna is het gewoon data en mag het wel als training data gebruikt worden, maar mag het niet langer dienen om de prestatie van het model te meten
</div></li>
</ul>
<p>Voor tijdsreeksen en geografische data wordt er zelden van randomisatie gebruik gemaakt. Dat heeft te maken van de autocorrelatie (zie § <a href="data.html#tijd-en-ruimte">Tijd en ruimte</a>). In plaats daarvan worden hier ofwel een bepaald gebied of bepaalde tijdspanne als test-set uitgekozen. Bijvoorbeeld, voor een tijdsreeks:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="diagnose.html#cb88-1"></a><span class="kw">library</span>(forecast)</span>
<span id="cb88-2"><a href="diagnose.html#cb88-2"></a></span>
<span id="cb88-3"><a href="diagnose.html#cb88-3"></a>USAccDeaths <span class="op">%&gt;%</span><span class="st"> </span>ets <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">forecast</span>(<span class="dt">h =</span> <span class="dv">48</span>) <span class="op">%&gt;%</span></span>
<span id="cb88-4"><a href="diagnose.html#cb88-4"></a><span class="st">  </span><span class="kw">plot</span>(<span class="dt">ylab =</span> <span class="st">&quot;Monthly totals of accidental deaths in USA&quot;</span>)</span>
<span id="cb88-5"><a href="diagnose.html#cb88-5"></a><span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">1979</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</span></code></pre></div>
<div class="figure"><span id="fig:forecast-usa-deaths"></span>
<img src="_main_files/figure-html/forecast-usa-deaths-1.png" alt="Voorspelling van aantal Amerikaanse slachtoffers na 1979 (stippellijn). De grillige gekleurde lijn links van de stippellijn geeft het werkelijke aantal weer. De tegenhanger rechts van de stippellijn geeft de best mogelijke voorspelling weer na 1979. Het donkergrijze gebied geeft de 80%-predictie-interval weer en het lichtgrijze gebied de 90%-predictie interval. Dit type voorspelling-algoritmes (eng: forecasting algorythms) onderscheidt eerst de ruis (eng: error) van de trend en de periodiciteit (eng: seasonality), vandaar de naam ETS. (ANA) staat voor respectievelijk aan additieve ruis, geen trend (N van ‘No’) en een additieve periodiciteit." width="672" />
<p class="caption">
Figuur 8.1: Voorspelling van aantal Amerikaanse slachtoffers na 1979 (stippellijn). De grillige gekleurde lijn links van de stippellijn geeft het werkelijke aantal weer. De tegenhanger rechts van de stippellijn geeft de best mogelijke voorspelling weer na 1979. Het donkergrijze gebied geeft de 80%-predictie-interval weer en het lichtgrijze gebied de 90%-predictie interval. Dit type voorspelling-algoritmes (eng: <em>forecasting algorythms</em>) onderscheidt eerst de ruis (eng: <em>error</em>) van de trend en de periodiciteit (eng: <em>seasonality</em>), vandaar de naam ETS. (ANA) staat voor respectievelijk aan additieve ruis, geen trend (N van ‘No’) en een additieve periodiciteit.
</p>
</div>

<p>Naast een training-set en een test set, bestaat er nog zoiets als een <em>validatie set</em>. In <a href="leren-uit-data.html#hyperparameters">één van de latere paragrafen binnen dit hoofdstuk</a> gaan we zien dat er zoiets als hyperparameters bestaan die het verloop van het ML proces mee helpen bepalen. Vaak moeten die hyperparaneters ook nog eerst geoptimaliseerd worden en hiervoor wordt soms een afzonderlijke set, namelijk de <em>validatie set</em> aangewend. Een andere reden om de validatie-set te gebruiken in gewoon om dienst te doen als tijdelijke test-set (omdat we de echte test-set naturlijk maar één keer kunnen aanwenden). Let wel: die opsplitsing in verscheidene subsets zijn niet in steen gebeiteld en kunnen geval-per-geval bekeken worden op basis van de hoeveelheid beschikbare data, het type algoritme, enz….</p>
<p>Het zelfde geldt trouwens voor hoeveel percent van de data naar welke subset moet gaan. Er wordt soms de ‘gulden regel’ ⅔:⅓ gebruikt voor de verdeling tussen training- en test-set, maar ook dit hoeft niet vast te liggen. Hoe meer data wordt vrijgehouden om te testen hoe dichter de gemeten prestatie bij de werkelijke prestatie (op een grotere groep nieuwe data, wanneer het algoritme in productie staat) zal aanleunen. Maar hoe meer test-data, hoe minder training-data en wat is het nut om super-precies te prestatie te kunnen meten van een barslecht model.</p>
</div>
<div id="cross-validatie" class="section level2">
<h2><span class="header-section-number">8.4</span> Cross-validatie</h2>
<p>Dit ideale scenario kan niet altijd gehanteerd worden en daarom laat men een aantal vormen van contact met de test data toe:</p>

<div class="definition">
<span id="def:cross-validatie" class="definition"><strong>Stelling 8.4  </strong></span>Alvorens de finale bekendmaking van de prestatie van het model kan men ‘doen alsof’ we met <em>ongeziene data</em> werken door middel van <a href="diagnose.html#cross-validatie">cross-validatie</a>.
</div>

<p>Het principe is eenvoudig, telkens laat je een deel van de training-set (<em>test-fold</em>) weg en train je een model op het overblijvend deel (<em>training fold</em>). Je kan nu de prestatie <span class="math inline">\(\varepsilon_i\)</span> meten om het weggelaten deel te voorspellen. Daarna voeg je de test-fold weer bij de rest en ga je voort met het volgende deel (<a href="diagnose.html#fig:cv-voorbeeld">8.2</a>). In het voorbeeld worden de scores van de folds uitgemiddeld, maar je kan hier ook kiezen om de beste te nemen (bijvoorbeeld met de kleinste fout) of nog een andere vorm van aggregatie toepassen.</p>
<div class="figure"><span id="fig:cv-voorbeeld"></span>
<img src="img/cv_example.svg" alt="cross-validatie voorbeeld. Een dataset met dimensies \(9\times3\) wordt eerst op gesplitst in een training set van \(\frac23\) en een test set van \(\frac13\). Van de training set wordt telkens \(\frac16\) opzij gehouden als test fold. De resultaten van de validaties van elke fold \(\varepsilon_i\) worden geaggregeerd in \(\varepsilon_{cv}\) door het gemiddelde te nemen. Pas op het einde van dit proces wordt eenmalig de finale prestatie \(\varepsilon_{final}\) berekend."  />
<p class="caption">
Figuur 8.2: )cross-validatie voorbeeld. Een dataset met dimensies <span class="math inline">\(9\times3\)</span> wordt eerst op gesplitst in een training set van <span class="math inline">\(\frac23\)</span> en een test set van <span class="math inline">\(\frac13\)</span>. Van de training set wordt telkens <span class="math inline">\(\frac16\)</span> opzij gehouden als test fold. De resultaten van de validaties van elke fold <span class="math inline">\(\varepsilon_i\)</span> worden geaggregeerd in <span class="math inline">\(\varepsilon_{cv}\)</span> door het gemiddelde te nemen. Pas op het einde van dit proces wordt eenmalig de finale prestatie <span class="math inline">\(\varepsilon_{final}\)</span> berekend.
</p>
</div>

<div class="figure"><span id="fig:cv-strategie"></span>
<img src="img/cv_strategy.svg" alt="Een model voorbeeld van hoe een cross-validatie strategie past binnen een begeleid ML proces." width="300px" />
<p class="caption">
Figuur 8.3: )Een model voorbeeld van hoe een cross-validatie strategie past binnen een begeleid ML proces.
</p>
</div>

</div>
<div id="de-beoordelingsfunctie" class="section level2">
<h2><span class="header-section-number">8.5</span> De beoordelingsfunctie</h2>
<p>Met een beoordelingsfunctie (<span class="math inline">\(\varepsilon\)</span>; eng: <em>objective function</em>) bereken je de prestatie van een model door de uitvoer van het model <span class="math inline">\(\hat{y}\)</span> te vergelijken met de werkelijke uitkomst <span class="math inline">\(y\)</span>. Er zijn veel mogelijke verschillende verliesfuncties afhankelijk van het beoogde doel en type van de uitkomst-variabele. Een populaire keuze wanneer het gaat om reële getallen is de som van de kwadraten van de verschillen (eng: <em>sum of squared errors</em> of kort SME). In feite gaat het over de helft van de som van de kwadraten en waarom dit is, heeft te maken met de differentieerbaarheid ervan (zie § <a href="#nackpropagation">backpropagation</a> voor meer uitleg hierrond).</p>
<p><span class="math display" id="eq:kwadratensom">\[\begin{equation}
  \varepsilon=E(y,\hat{y})=\frac{1}{2}\sum_{n=1}^{N}{(y_n-\hat{y}_n)^2}
  \tag{8.1}
\end{equation}\]</span></p>
<p>Naarmate dat het voorspelde resultaat <span class="math inline">\(\hat{y}\)</span> steeds meer begint af te wijken van het werkelijk resultaat <span class="math inline">\(y\)</span>, neemt de restterm <span class="math inline">\(\varepsilon\)</span> razendsnel toe (zie interactieve figuur hieronder) en het doel van het leeralgoritme is om de parameters <span class="math inline">\(\mathbf{\theta}\)</span> zodanig aan te passen dat de fout net zijn klein mogelijk wordt. Men zegt dat het doel is om de verliesfunctie te minimaliseren (eng: <em>minimize</em>).</p>
<iframe width="100%" height="650px" src="img/convex.html" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" style="border:0px;">
</iframe>
<p>Een andere belangrijke verliesfunctie is de cross-entropie: Deze wordt gebruikt wanneer de uitkomst variabele een kansverdeling (eng: <em>probability distribution</em>) voorstel, i.e. wanneer de waarden voor de uitkomsten reële getallen getallen zijn in het bereiek <span class="math inline">\([0, 1]\)</span> en wanneer alle waarden voor de categorieën in de uitvoerlaag van het netwerk optellen tot 1. Deze laatste wordt gewaarborgt door de zogenaamde softmax restrictie (zie <a href="inleiding-tot-artificiële-neurale-netwerken.html#types-neuronen">Types neuronen</a>).</p>
<p><span class="math display" id="eq:cross-entropie">\[\begin{equation}
  E(y, \hat{y})=-\frac1N\sum_{n=1}^{N}{\left[y_n\,log(\hat{y}_n) + (1-y) \,log(1-\hat{y})\right]}
  \tag{8.2}
\end{equation}\]</span></p>
<p>Het is mooi om zulke verliesfunctie in beeld te brengen, maar in werkelijkheid spelen er meer dan twee parameters in het spel en zijn niet alle neuronen lineair. Als gevolg zal de verliesfunctie de vorm van een hypervlak in een meer-dimensionale ruimte gaan innemen en zal de vorm ook veel grilliger zijn dan hier voorgesteld.</p>
</div>
<div id="gradiënt-afdaling" class="section level2">
<h2><span class="header-section-number">8.6</span> Gradiënt afdaling</h2>
<p>De bedoeling is om het laagste punt van de hierboven gedemonstreerde verliesfunctie te vinden. Indien het werkelijk om kwadratische verlies-oppervlakten zou gaan, dan was er geen probleem omdat met het laagste punt dan analytisch zou kunnen vinden, i.e. met een relatief eenvoudige matrix bewerking. Maar in werkelijkheid zijn de verliesfuncties grillig en meerdimensionaal (<a href="diagnose.html#fig:complexe-verlies-landschappen">8.5</a>). Dan is er een soort trial-and-error manier nodig om het laagste punt te vinden.</p>
<div class="figure"><span id="fig:curve-vorm"></span>
<img src="img/curve-vorm.svg" alt="Onderscheid tussen kwadratische, convexe en grillige functies, hier voor de eenvoud voorgesteld als abstracte twee-dimensionale functies."  />
<p class="caption">
Figuur 8.4: Onderscheid tussen kwadratische, convexe en grillige functies, hier voor de eenvoud voorgesteld als abstracte twee-dimensionale functies.
</p>
</div>

<p>Het zoeken naar zulk een minimum van zulk een functie noemt men een <em>optimalisatie-probleem</em> en een groot deel van het onderzoek naar ANNs situeert zich rond het vinden van een efficiënt optimalisatie algoritme. Deze optimalisatie is trouwens waarnaar in de paragraaf rond de perceptron verwezen werd als zijnde de administratie rondom de functies <span class="math inline">\(f\)</span> en <span class="math inline">\(t\)</span>.</p>
<div class="figure"><span id="fig:complexe-verlies-landschappen"></span>
<img src="https://www.cs.umd.edu/~tomg/img/landscapes/noshort.png" alt="Voorbeeld van een realistische geprojecteerde verlies-functie bekomen door Ankur Mohan volgens de methode beschreven in Li et al. (2018). Kijk ook eens op losslandscape.com voor artistieke rendering van ‘verlies-landschappen’."  />
<p class="caption">
Figuur 8.5: Voorbeeld van een realistische geprojecteerde verlies-functie bekomen door Ankur Mohan volgens de methode beschreven in <span class="citation">Li et al. (<a href="#ref-li2018" role="doc-biblioref">2018</a>)</span>. Kijk ook eens op <a href="https://losslandscape.com/">losslandscape.com</a> voor artistieke rendering van ‘verlies-landschappen’.
</p>
</div>

<p>Maar goed, laten we, om de eenvoud te bewaren, toch nog even voortbouwen op een verliesfuncties met een eenvoudige convexe vorm. Bij het initialiseren van de parameters met willekeurige waarden stellen we ons een willekeurig punt voor in het <span class="math inline">\(\theta_1\perp\theta_2\)</span>-vlak. Vanuit dit punt projecteren we ons op het verlies-oppervlakte, door parallel te lopen met de <span class="math inline">\(\varepsilon\)</span>-as totdat we het oppervlakte kruisen. We bevinden ons nu ergens op dit oppervlak, in het punt <span class="math inline">\(e\)</span>. Hoe vinden we nu het laagste punt op dit oppervlak? Simpel, volg de weg die het steilst naar beneden gaat en, in het geval van een convexe functie, kom je vanzelf uit op het laagste punt. De weg van de steilste afdaling (eng: <em>steepest ascent</em>) wordt wiskundig uitgedrukt als de <a href="https://nl.wikipedia.org/wiki/Gradi%C3%ABnt_(wiskunde)">gradient</a> <span class="math inline">\(\nabla\varepsilon\)</span> in <span class="math inline">\(e\)</span>. Een gradient kan gezien worden als een meerdimensionale afgeleide en kan in een 2-dimensionale context (2 parameters) voorgesteld worden als een raakvlak in het punt <span class="math inline">\(e\)</span>. Vandaar de naam van een familie aan optimalisatie-algoritmen en ook de titel van deze paragraaf: gradiënt afdaling (eng: <em>gradient descent</em>).</p>
<p>We weten nu in welke richting we moeten gaan, het enige dat overblijft is de grootte van de stap die we in die richting nemen. De grootte van de stap wordt bepaald door de leersnelheid <span class="math inline">\(r\)</span> (eng: <em>learning rate</em>). Nemen we te grootte stappen, dan kunnen we het minimum missen doordat we er over springen. Nemen we te kleine stappen, dan duurt het mogelijk te lang en riskeren we bovendien om achter kleine heuveltjes van de ruis te komen vastzitten.</p>
<p>Wanneer we voldoende dicht komen bij het (lokaal) minimum van het verlies-oppervlakte, verwachten we dat de gradient in dat punt heel erg klein wordt. We zeggen dan dat het optimalisatie-algoritme <strong>convergeert</strong>. Wat ‘voldoende dicht’ precies moet zijn, wordt door de datawetenschapper bepaald en is meestal een arbitrair klein getal. Blijft tijdens het zoeken de gradient fluctueren, dan kan de datawetenschapper beslissen dat de zoektocht vroegtijdig gestaakt wordt alvorens er convergentie bereikt wordt. Er is immers niet altijd een garantie dat convergentie mogelijk is en zelfs als je optimalisatie-algoritme convergeert, heb je bij grillige oppervlakten nooit de garantie dat het lokaal minimum ook het globaal minimum is.</p>

<div class="definition">
<span id="def:unnamed-chunk-44" class="definition"><strong>Stelling 8.5  </strong></span>Bij complexe en grillige verlies-oppervlakten zal het vakk zo zijn dat er geen garanties gegeven kunnen worden dat het optimilsatie-algoritme convergeert of dat het gevonden minimum ook de best mogelijk oplossing is.
</div>

<p>Wiskundig kunnen we de gradiënt-afdaling van het optimalisatie-algoritme als volgt samenvatten:</p>
<p><span class="math display" id="eq:gradient-afdaling">\[\begin{equation}
  \theta\leftarrow\theta-r\cdot\nabla\varepsilon(\theta)
  \tag{8.3}
\end{equation}\]</span></p>
<p>De leersnelheid wordt vaak, zoals bij de familie aan optimalisatie-algoritmes die men <a href="https://nl.wikipedia.org/wiki/Simulated_annealing"><em>simluated annealing</em></a> noemt, bij elke epoch aangepast aan de zogenaamde <em>temperatuur</em> die langzaam afneemt.</p>
</div>
<div id="stochastische-en-minibatch-gradiënt-afdaling" class="section level2">
<h2><span class="header-section-number">8.7</span> Stochastische en Minibatch gradiënt afdaling</h2>
<iframe width="100%" height="650px" src="img/eggholder.html" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" style="border:0px;">
</iframe>
<p>De afdaling zoals beschreven in vorige paragraaf baseert zich op verlies-landschappen die berekend werden op de ganse dataset. In dat geval spreekt men van <em>batch gradiënt afdaling</em> (eng: <em>batch gradiënt descent</em>). Zoals reeds aangehaald, deze strategie werkt niet goed wanneer het oppervlakte van het verlies-landschap grillig is zoals in het voorbeeld hier direct boven. Die grilligheid wordt veroorzaakt omdat net de verliesfuncties van alle instanties in de dataset samen worden beschouwd. In de <em>stochastische gradiënt-afdaling</em> (eng:<em>stochastic gradient descent</em>) worden de verlies-hypervlakken berekend telkens voor slechts één instantie tegelijk. Deze benadering maakt dat de rekentijd bij grote datasets te hoog zou oplopen. Daarom is er een tussenvorm bedacht, de <em>minibatch gradiënt-afdaling</em> (eng: <em>minibatch gradient descent</em>). HIer wordt telkens een subset (de minibatch) van de dataset gebruikt om het verlies-oppervlak te berekenen. De minibatch grootte is een hyperparameter van het leeralgoritme.</p>
<p>Je kan waarschijnlijk hele bibliotheken vullen met informatie over de verschillende optimalisatie-algoritmen, maar hier volstaat het om te weten dat er erg veel verschillende zijn en dat er nog actief onderzoek naar wordt gedaan.</p>
</div>
<div id="uitwendige-invloed" class="section level2">
<h2><span class="header-section-number">8.8</span> Uitwendige invloed</h2>
<p>TODO: externe invloed op de beslissingen van een datawetenschapper met schema</p>

</div>
</div>
<h3>Bronvermelding</h3>
<div id="refs" class="references">
<div id="ref-li2018">
<p>Li, H., Xu, Z., Taylor, G., Studer, C., Goldstein, T., 2018. Visualizing the loss landscape of neural nets, in: Advances in Neural Information Processing Systems. pp. 6389–6399.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="inleiding-tot-artificiële-neurale-netwerken.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tensorflow.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ddhaese/machine-learning-source/08_Diagnose.Rmd",
"text": "Bron"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
